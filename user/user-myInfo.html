<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>마이소호 샘플샵</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    <link rel="stylesheet" href="/css/user-myInfo.css" />
  </head>
  <body>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <div class="wrap">
      <div class="betweenbtn">
        <script>
          $(".betweenbtn").load("/public-object/betweenbtn.html");
        </script>
      </div>
      <div class="header">
        <script>
          $(".header").load("/public-object/header.html");
        </script>
      </div>
      <!-- 회원가입 -->
      <div class="containerlogin">
        <div class="users-title-line-hd">
          <h2>내정보</h2>
        </div>
        <div class="users-cont">
          <div class="users-cont-tit">기본정보</div>
          <form action="frmLogin" method="post" action="/user/loginProcess">
            <input
              class="input-st01 users-login-input input-id"
              type="text"
              name="user_id"
              value="psk910903"
              disabled
              style="
                background-color: #dedede;
                border: 1px solid #dedede;
                font-size: 12px;
                color: black;
              "
            />
            <div class="red check-txt check-txt-id">아이디를 입력해주세요</div>
            <div class="red check-txt check-txt-id2">
              아이디는 영문 또는 영문, 숫자를 포함하여 5자~20자 내로 입력
              가능합니다. (-,_를 제외한 특수 문자 입력 불가)
            </div>
            <div class="blue check-txt check-txt-id3">
              사용가능한 아이디입니다.
            </div>
            <input
              class="input-st01 users-login-input mt-10"
              type="password"
              name="user_password"
              placeholder="기존 비밀번호"
              value=""
            />

            <input
              id="check-txt-pw"
              class="input-st01 users-login-input mt-10"
              type="password"
              name="user_password"
              placeholder="새 비밀번호"
              value=""
              onchange="checkUserinfo('pw', this.value)"
            />
            <div class="red check-txt check-txt-pw">
              올바른 비밀번호 형식이 아닙니다.
            </div>
            <div class="red check-txt check-txt-pw2">
              올바른 비밀번호 형식이 아닙니다.
            </div>
            <div class="blue check-txt check-txt-pw3">
              사용가능한 비밀번호 입니다.
            </div>
            <input
              id="check-txt-pwcheck"
              class="input-st01 users-login-input mt-10"
              type="password"
              name="user_password"
              placeholder="비밀번호 확인"
              value=""
              onBlur="checkPW(this.value)"
              onchange="checkTxt('pw', this.value)"
            />
            <div class="blue check-txt check-txt-pwcheck-same">
              비밀번호가 일치합니다.
            </div>
            <div class="red check-txt check-txt-pwcheck-not">
              비밀번호가 일치하지 않습니다.
            </div>
            <input
              class="input-st01 users-login-input mt-10"
              type="text"
              name="user_name"
              placeholder="이름"
              onBlur="checkTxt('name', this.value)"
              onchange="checkUserinfo('name', this.value)"
              value="박선교"
            />
            <div class="red check-txt check-txt-name">이름을 입력해주세요</div>
            <div class="red check-txt check-txt-name2">
              2~5 길이의 한글로 입력해주세요.
            </div>
            <div class="blue check-txt check-txt-name3">가입 가능합니다.</div>
            <input
              class="input-st01 users-login-input mt-10"
              type="email"
              name="user_email"
              placeholder="이메일(비밀번호 찾기 시 이메일로 발송됩니다"
              onBlur="checkTxt('email', this.value)"
              onchange="checkUserinfo('email', this.value)"
              value="psk910903@gmail.com"
            />
            <div class="red check-txt check-txt-email">
              이메일 주소를 입력하세요.
            </div>
            <div class="red check-txt check-txt-email2">
              이메일 형식을 확인 해주세요.
            </div>
            <div class="blue check-txt check-txt-email3">
              가입 가능한 이메일입니다.
            </div>
            <input
              class="input-st01 users-login-input mt-10"
              type="text"
              name="user_mobileNumber"
              placeholder="휴대폰번호"
              onBlur="checkTxt('phone', this.value)"
              onchange="checkUserinfo('phone', this.value)"
              value="01040246575"
            />
            <div class="red check-txt check-txt-phone">
              전화번호를 입력 해주세요
            </div>
            <div class="red check-txt check-txt-phone2">
              전화번호 형식을 확인 해주세요.
            </div>
            <div class="blue check-txt check-txt-phone3">
              사용가능한 전화번호입니다.
            </div>
          </form>
          <div class="receiver-wrap same js-useDeliveryOff same2">
            <div class="mt-40">
              <strong> 주소</strong>
            </div>
            <ul>
              <li class="box open-layer-addr mt-none">
                <input
                  class="input-st01 mt-10"
                  id="sample6_postcode"
                  type="text"
                  name="delivery_address"
                  placeholder="우편번호"
                  value
                  readonly
                  onclick="sample6_execDaumPostcode()"
                />
                <!-- 돋보기 이미지 -->

                <img
                  src="https://image.makeshop.co.kr/mysoho/assets/shop/img/btn/h24_search.png"
                  alt=""
                />
              </li>
              <li class="delivery-address1">
                <input
                  class="input-st01 mt-10"
                  id="sample6_address"
                  type="text"
                  name="delivery_address1"
                  placeholder="기본주소"
                  value
                  maxlength="100"
                />
              </li>
              <li class="delivery-address2">
                <input
                  class="input-st01 mt-10"
                  id="sample6_extraAddress"
                  type="text"
                  name="delivery_address2"
                  placeholder="참고항목"
                  value
                  maxlength="100"
                />
              </li>
              <li class="delivery-address2">
                <input
                  class="input-st01 mt-10"
                  id="sample6_detailAddress"
                  type="text"
                  name="delivery_address2"
                  placeholder="나머지주소"
                  value
                  maxlength="100"
                />
              </li>
            </ul>
          </div>
          <div>
            <!-- 개인정보 수집 이용동의 -->
            <ul class="users-cont-full">
              <li>
                <div>
                  <input
                    name="ckeck1"
                    type="checkbox"
                    id="agreeAllBtn"
                    checked
                  />
                  <label for="check1"></label>
                  <div class="cbx-content">
                    개인정보 수집 이용동의(선택) <br />(쇼핑/할인소식 SMS수신)
                  </div>
                  <button class="btn-view" onclick="openPopup4()">보기</button>
                </div>
              </li>
              <div class="btn-box">
                <a
                  href="myorder-list-user.html"
                  type="submit"
                  id="join"
                  class="btn-h42-gray width30"
                >
                  취소
                </a>
                <button
                  type="submit"
                  id="join"
                  class="btn-h42-gray width70"
                  onclick="alert('변경되었습니다.')"
                >
                  변경하기
                </button>
              </div>
            </ul>
          </div>
        </div>
      </div>
      <!-- 푸터 -->
      <div class="footer">
        <script>
          $(".footer").load("/public-object/footer.html");
        </script>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
      integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
      crossorigin="anonymous"
    ></script>
    <script src="/js/header.js"></script>
    <script src="/js/footer.js"></script>
    <script>
      let agree = document.querySelectorAll(".agree input");
      let agreeAllBtn = document.querySelector("#agreeAllBtn");

      function onclickAgree() {
        if (agreeAllBtn.checked === true) {
          for (let tag of agree) {
            tag.checked = true;
          }
        } else {
          for (let tag of agree) {
            tag.checked = false;
          }
        }
      }
      // 회원가입 정보 미입력 시 멘트
      function checkTxt(type, val) {
        // 입력값이 공백일 때
        if (val === "") {
          document.querySelector(".check-txt-" + type).style.display = "block";
          document.querySelector(".check-txt-" + type + "2").style.display =
            "none";
          document.querySelector(".check-txt-" + type + "3").style.display =
            "none";
        } else {
          document.querySelector(".check-txt-" + type).style.display = "none";
        }
      }
      function checkPW(val) {
        // 비밀번호 확인
        if (val === document.querySelector("#check-txt-pw").value) {
          document.querySelector(".check-txt-pwcheck-same").style.display =
            "block";
          document.querySelector(".check-txt-pwcheck-not").style.display =
            "none";
        } else {
          document.querySelector(".check-txt-pwcheck-same").style.display =
            "none";
          document.querySelector(".check-txt-pwcheck-not").style.display =
            "block";
        }
      }
      function checkUserinfo(type, val) {
        let mode = "";

        var ckeckId = /^[a-zA-z0-9]{4,12}$/; //아이디 유효성 검사
        var ckeckPW = /(?=.*[0-9])(?=.*[a-z])(?=.*\W)(?=\S+$).{8,20}/; //비밀번호 유효성 검사
        var ckeckName = /^[가-힣]{2,5}$/; //이름 유효성 검사
        var ckeckEmail = /^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+$/; //이메일 유효성 검사
        var ckeckPhone = /^[0-9]{10,11}$/; //이메일 유효성 검사
        if (type === "id") {
          mode = ckeckId;
        } else if (type === "pw") {
          mode = ckeckPW;
        } else if (type === "name") {
          mode = ckeckName;
        } else if (type === "email") {
          mode = ckeckEmail;
        } else if (type === "phone") {
          mode = ckeckPhone;
        }

        if (!mode.test(val)) {
          document.querySelector(".check-txt-" + type).style.display = "none";
          document.querySelector(".check-txt-" + type + "2").style.display =
            "block";
          document.querySelector(".check-txt-" + type + "3").style.display =
            "none";
          document.querySelector(".input-" + type).focus();
        } else {
          document.querySelector(".check-txt-" + type).style.display = "none";
          document.querySelector(".check-txt-" + type + "2").style.display =
            "none";
          document.querySelector(".check-txt-" + type + "3").style.display =
            "block";
        }
      }
    </script>
    <!-- 우편번호 -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
      function sample6_execDaumPostcode() {
        new daum.Postcode({
          oncomplete: function (data) {
            // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

            // 각 주소의 노출 규칙에 따라 주소를 조합한다.
            // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
            var addr = ""; // 주소 변수
            var extraAddr = ""; // 참고항목 변수

            //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
            if (data.userSelectedType === "R") {
              // 사용자가 도로명 주소를 선택했을 경우
              addr = data.roadAddress;
            } else {
              // 사용자가 지번 주소를 선택했을 경우(J)
              addr = data.jibunAddress;
            }

            // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
            if (data.userSelectedType === "R") {
              // 법정동명이 있을 경우 추가한다. (법정리는 제외)
              // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
              if (data.bname !== "" && /[동|로|가]$/g.test(data.bname)) {
                extraAddr += data.bname;
              }
              // 건물명이 있고, 공동주택일 경우 추가한다.
              if (data.buildingName !== "" && data.apartment === "Y") {
                extraAddr +=
                  extraAddr !== ""
                    ? ", " + data.buildingName
                    : data.buildingName;
              }
              // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
              if (extraAddr !== "") {
                extraAddr = " (" + extraAddr + ")";
              }
              // 조합된 참고항목을 해당 필드에 넣는다.
              document.getElementById("sample6_extraAddress").value = extraAddr;
            } else {
              document.getElementById("sample6_extraAddress").value = "";
            }

            // 우편번호와 주소 정보를 해당 필드에 넣는다.
            document.getElementById("sample6_postcode").value = data.zonecode;
            document.getElementById("sample6_address").value = addr;
            // 커서를 상세주소 필드로 이동한다.
            document.getElementById("sample6_detailAddress").focus();
          },
        }).open();
      }

      function trash() {
        alert("장바구니가 비었습니다. 관심있는 상품을 담아보세요");
        location.href = "home.html";
      }
    </script>
  </body>
</html>
